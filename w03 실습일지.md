# SSWU_20190224_CSM 구세원 

컴퓨터 시스템 관리 3주차 실습일지입니다.  

### 실습과제 결과
https://github.com/sayone99/SSWU_20190224_CSM/issues/1#issue-837688874
apt install lolcat 명령어로 lolcat 패키지를 설치하였습니다. 
명령어 결과를 무지개 색깔로 보여주는 'lolcat'패키지 입니다. 실제로 lolcat --help 명령어를 입력하여 결과가 무지개색을 보이는 장면을 확인할 수 있었습니다.  

### 1. 새로 배운 내용

1.1 리눅스 디렉터리 구조 
- 리눅스의 디렉터리는 트리 구조로 되어 있다. root라는 시작점에서 bin, boot, cdrom 등의 디렉터리가 가지처럼 뻗어나간 형태이다. 그렇기에 root의 하위 디렉터리는 시작점 root를 의미하는 /다음에 디렉터리 명을 적어 /bin, /boot, /cdrom, /dev 등으로 표기한다.  
  - /bin : 명령어가 저장된 디렉터리이다. root 사용자와 일반 사용자 모두가 사용가능하다. 
  - /boot : 부트로더와 관련된 디렉터리로, 컴퓨터 부팅시 필요한 파일들이 저장되어 있다. 
  - /cdrom : cd-rom이 마운트되도록 하는 디렉터리
  - /etc : 시스템의 설정 파일들이 저장된 디렉터리로 사용자 관리 설정 파일, 시스템 제어판 설정 파일, DNS 설정 파일등이 저장되어 있다. 
  - /opt : package 설치 시 그 안에 포함된 파일들이 저장되는 디렉터리이다. 
  - /sbin : 시스템 관리자용 명령어가 저장된 디렉터리이다. 관리자(root 사용자)만 접근 가능하다. halt-p 명령어는 root 사용자만 가능하기에 bin dir가 아닌 sbin dir에 저장되어 있다. 

- 리눅스의 터미널을 살펴보면 계정명@호스트명 다음으로 사용자의 현재 위치를 파악할 수 있다. /바탕화면$ 일 때 pwd명령어를 입력하여 "~/home/ubuntu/바탕화면" 이 출력된다면 물결은 현재 사용자가 home dir의 ubuntu dir에 위치하며 그 안에서도 바탕화면에 위치한다는 것을 파악할 수 있다.   

1.2 사용자 관리 및 파일 속성
1.2.1 사용자 계정 생성 및 관리
  - cs-01, cs-02, it-01, it-02라는 사용자 계정을 생성하고 ss-univ 라는 그룹과 그 안에 cs, it라는 그룹을 생성하여 cs-nn 사용자는 cs에, it-nn사용자는 it그룹에 포함시켰다. 
  - 파일과 디렉터리의 속성엔 크게 소유권과 허가권으로 나누어 생각해볼 수 있다. 소유권은 누가 해당 파일 or 디렉터리를 생성하고 관리하는지를 결정하며 허가권은 해당 파일 or 디렉터리를 누가 읽고 쓰고 실행할 수 있는지를 결정한다. 
    - 파일 소유권 > 소유권의 주체에는 소유자와 소유그룹이 있고 소유권 주체를 변경하는 명령어도 이 둘을 변경하게 된다. 
      
      (1) 소유자 변경 > chown ubuntu mydata.txt = mydata.txt : mydata.txt라는 파일의 소유자를 ubuntu로 변경
      
      (2) 소유자와 소유그룹 변경 > chown ubuntu.ubuntu mydata.txt : mydata.txt라는 파일의 소유자와 소유그룹을 각각 ubuntu로 변경한다. .(온점)을 기준으로 왼쪽은 소유자, 오른쪽은 소유그룹을 의미한다. 
      
      (3) 소유그룹 변경 > chgrp ubuntu mydata.txt : 소유그룹만 ubuntu로 변경 == chown .ubuntu mydata.txt

    - 파일 허가권 > 허가권의 주체에는 소유자, 그룹, 그 외 사용자로 나뉘고 허가 대상은 읽기(W), 쓰기(R), 실행(X)으로 볼 수 있다. 또한 root계정으로 로그인 하거나 해당 파일, 디렉터리의 소유자만이 허가권을 변경할 수 있으므로 sudo 명령어를 사용하여 해당 계정으로 로그인할 필요가 있다. 
      
      (1) 2진수를 활용한 허가권 변경 > 소유자, 그룹, 그 외 사용자 이 순서로 해당되는 허가범위를 2진수로 표현하고 그 수를 명령어에 함께 적는다. 허가 범위 또한 wrx순으로 구성하며 각각이 읽기, 쓰기, 실행이다. 예를 들어 소유자는 읽기부터 실행까지, 그룹은 읽기와 쓰기만, 사용자는 읽기만 허가된다고 해보자. 소유자의 허가범위는 1(W), 1(r), 1(X)가 되고 111라는 2진수를 10진수로 변환하면 7이 된다. 이런 방식으로 그룹과 그 외 사용자에 해당하는 숫자를 계산해보면 각각 6과 4가 된다. 이렇게 구한 764는 chmod 764 mydata.txt 명령어로 입력하여 허가권을 변경해줄 수 있다. 
      
      (2) 사칙연산을 활용한 허가권 변경 > 소유자에게 쓰기를 허가 한다고 한다면 소유자를 의미하는 u에 쓰기인 w를 추가해준다고 생각하여 chmod u+w mydata.txt 명령어를 입력하여 변경할 수도 있다. 
      
1.2.2 사용자 관리 및 파일 속성 
  - 리눅스의 파일 system은 모두 링크 파일 형식으로 되어 있다. 우리가 어느 파일의 데이터에 접근하게 되면, 우리는 디렉터리 상에서 보이는 파일에 들어간 것 처럼 보이지만 실제론 그 파일에게 pointer로 연결된 데이터를 요청하는 것과 같다. 이렇게 파일에 데이터가 담겨 있는 것이 아니라 pointer라는 다리를 건너야 데이터에 접근할 수 있는 system을 링크 파일 시스템이라 할 수 있다. 링크 파일엔 하드 링크(hard link)와 소프트 링크(soft link) 2가지가 존재한다. 
  - 우리가 디렉터리 상에서 보이는 하드링크나 소프트링크를 삭제하는 것은 위에서 언급한 이유로 인해 그 안의 정보를 삭제하는 것이 아니라 디렉터리 상의 파일과 실제 데이터를 연결하는 다리 역할의 pointer를 삭제한 것과 같다. 다리를 없애버렸으니 그 파일을 통해 데이터를 얻는 것은 불가하지만 해당 데이터는 여전히 존재한다.  
  - 링크 파일 생성 > 
    
    (1) 하드 링크 파일 생성 > ln board.txt board.txt.bak : 하드 링크 파일 생성 = ln 명령어 / 디렉터리상 보이는 하드 링크 파일은 board.txt.bak이 되며 이 링크 파일을 통해 board.txt라는 데이터에 접근할 수 있다. 
    
    (2) 소프트 링크 파일 생성 > ln -s board.txt cs-board ln -s board.txt it-B : 소프트 링크 파일 생성 = ln -s 명령어 /  cs-board와 it-B 디렉터리를 통해 board.txt 데이터에 접근할 수 있다. 

1.3 프로그램 설치 및 관리 
1.3.1 apt-get 
  - 데비안 리눅스에서 사용하던 패키지 설치 프로그램인 dpkg의 의존성 문제라는 한계를 보완한 패키지 설치 프로그램이다. dbkg는 사용자가 원하는 프로그램을 설치하기 위해선 또 다른 파일을 설치할 필요가 있었다. 즉, 다른 프로그램이 설치되어 있어야만 그 프로그램에 의존하여 원하는 프로그램을 설치할 수 있는 경우 수동으로 그 과정을 모두 거쳐야 한다는 것이다. 번거로움이 크다는 단점이 있다. 하지만 apt-get은 원하는 프로그램이 설치되기 위해 필요한 또다른 프로그램을 함께 다운받아 사용자의 번거로움을 덜었다. 
  - apt-get은 리눅스에 저장되어 있는 패키지 저장소 url에 사용자가 요청하는 패키지가 있는지 확인하고 사용자의 동의를 거쳐 다운받는다. 그렇기에 /etc/apt에 위치한 sources.list에는 리눅스가 패키지 정보와 설치를 요청할 수 있는 url이 저장되어 있어야 한다. 
  - /etc/apt/sources.list엔 4가지의 저장소 주소가 저장되어 있다. main, universe, multiverse, restricted 총 4가지의 저장소 주소가 저장되어 있다. 
  - sudo apt update 를 입력하여 sources.list에 업데이트된 정보를 적용한다. 
  - 저장소 주소만 제대로 적어놓으면 프로그램 설치 과정은 매우 간단하다. apt install 패키지명 을 입력하면 sources.list에 저장된 저장소에 해당 패키지가 있는지 찾아보고 설치 해주기 떄문이다. 
      
      
### 2. 발생한 문제/고민한 점 및 해결방법

	
- 처음 mc 프로그램을 설치했을 때는 "패키지를 찾을 수 없습니다. 하지만 다른 패키지가 참조하고 있습니다. 해당 패키지가 누락되었거나 지워졌다는 뜻입니다. 아니면 또 다른 곳에서 패키지를 받아와야 하는 경우일 수도 있습니다." 라는 메시지와 함께 패키지를 설치할 수 없는 상황이 되었다. 알고보니 sources.list에서 focal만 입력했어야 했는데 updates를 써야한다고 착각하여 focal-updates라고 작성했기 때문에 문제가 발생했던 것이다. 


### 3. 참고 내용

	
- ./가 의미하는 바가 궁금해 직접 검색해보았다. ./ 는 현재 위치, 현재 위치한 디렉터리를 의미함을 알 수 있었다. 
https://www.quora.com/What-does-mean-in-Linux 

- /home 과 /root 의 차이 또한 궁금해 검색해보았다. 
https://www.edureka.co/community/49720/difference-between-root-and-home-directory-in-terminal


### 4. 회고    
    
#### 4.1 좋았던 점 +
	
- 리눅스의 디렉터리 구조를 더욱 자세히 알 수 있어 좋았으며 파일의 소유권, 허가권을 변경해보며 리눅스에서 시스템을 관리하기 위해 어떤 역량이 필요한지, 기본적인 소양을 배운 것 같았다. 
- 또한 교수님의 말씀대로, 프로그램을 설치하는 것이 굉장히 간단해 terminal에 느꼈던 경계심과 어색함이 조금은 덜해지는 듯 했다. 사실 프로그램이 설치되기 전까지만 해도 text기반의 terminal이 굉장히 불편하고 어색했다. 하지만 프로그램이 쉽게 설치되는 것과 dpkg에서 apt-get으로의 발전 과정을 보며 terminal이 단순히 관리자를 위해 만들어진 어려운 환경이 아니라 더 빠르고 확실하게 작업하기 위한 공간임을 깨달았다. 

#### 4.2 아쉬웠던 점 -
	
- 명령어 하나하나가 무슨 말인지 어색하고 여전히 디렉터리 구조에서 헷갈리는 점이 많아 답답하다.. 또한 이렇게 어려운 리눅스를 과연 내가 잘 사용할 수 있을지, 지금 배우는 수준보다 훨씬 어려워질 실무 환경에서 리눅스를 다룰 수 있을지 걱정이 앞섰다. 	
    
#### 4.3 새로 깨달은 점 !
	
- 실습과제를 하기 위해 command lines를 검색해보며 생각보다 다양한 기능을 가진 패키지들이 많다는 것을 알았다. 개발자의 업무에 도움이 될 수 있는 정보를 제공하는 패키지도 있지만 내가 설치한 lolcat과 같이 개발자의 시각적인 행복을 위한 패키지도 존재한다는 것을 보며 생각보다 여러 성격의 패키지들이 있다는 것을 깨달았다. 앞으로 좀 더 눈이 즐거워 질 수 있는 패키지를 찾아볼 예정이다!    
	  
